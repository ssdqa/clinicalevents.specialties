[{"path":"https://ssdqa.github.io/clinicalevents.specialties/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Hanieh Razzaghi. Author. Kaleigh Wieand. Author, maintainer. Kimberley Dickinson. Author. Charles Bailey. Author.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Razzaghi H, Wieand K, Dickinson K, Bailey C (2025). clinicalevents.specialties: Assess Relationship Clinical Events Specialty Care. R package version 0.0.0.9000, https://github.com/ssdqa/clinicalevents.specialties.","code":"@Manual{,   title = {clinicalevents.specialties: Assess the Relationship Between Clinical Events and Specialty Care},   author = {Hanieh Razzaghi and Kaleigh Wieand and Kimberley Dickinson and Charles Bailey},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/ssdqa/clinicalevents.specialties}, }"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/index.html","id":"clinical-events--specialties","dir":"","previous_headings":"","what":"Assess the Relationship Between Clinical Events and Specialty Care","title":"Assess the Relationship Between Clinical Events and Specialty Care","text":"Clinical Events & Specialties module identifies specialties associated user-provided clinical event (ex: asthma diagnosis) evaluates distribution specialties associated said event encounter level. functionality allows users evaluate care patterns associated given cohort determine expected.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Assess the Relationship Between Clinical Events and Specialty Care","text":"can install development version package like :","code":"devtools::install_github('ssdqa/clinicalevents.specialties')"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_codeset_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Events & Specialties Codeset File Sample — cnc_sp_codeset_file","title":"Clinical Events & Specialties Codeset File Sample — cnc_sp_codeset_file","text":"sample version file structure expected codeset_tbl parameter cnc_sp_process function. user recreate file include domain definitions.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_codeset_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Events & Specialties Codeset File Sample — cnc_sp_codeset_file","text":"","code":"cnc_sp_codeset_file"},{"path":[]},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_codeset_file.html","id":"cnc-sp-codeset-file","dir":"Reference","previous_headings":"","what":"cnc_sp_codeset_file","title":"Clinical Events & Specialties Codeset File Sample — cnc_sp_codeset_file","text":"data frame 5 columns domain string label domain interest domain_tbl name CDM table variable can found concept_field field default_tbl used join codeset date_field date field default_tbl used filter dataset cohort period longitudinal analyses vocabulary_field (PCORnet ) name column domain table vocabulary type stored codeset_name name codeset found specs directory; file extension included","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_codeset_file.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Clinical Events & Specialties Codeset File Sample — cnc_sp_codeset_file","text":"codeset listed codeset_name column kept file_subdirectory indicated initialize_dq_session","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_cs.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Site, Anomaly, Cross-Sectional — cnc_sp_ms_anom_cs","title":"Multi-Site, Anomaly, Cross-Sectional — cnc_sp_ms_anom_cs","text":"Multi-Site, Anomaly, Cross-Sectional","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Site, Anomaly, Cross-Sectional — cnc_sp_ms_anom_cs","text":"","code":"cnc_sp_ms_anom_cs(   process_output,   title,   text_wrapping_char = 60,   large_n = FALSE,   large_n_sites = NULL )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Site, Anomaly, Cross-Sectional — cnc_sp_ms_anom_cs","text":"process_output output cnc_sp check, summarized used multi site anomaly detection check title text containing title plot text_wrapping_char number characters specialty names displayed plot large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Site, Anomaly, Cross-Sectional — cnc_sp_ms_anom_cs","text":"dot plot shape dot represents whether point anomalous, color dot represents proportion visits given specialty, size dot represents mean proportion across sites","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_la.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Site Anomaly Longitudinal Function to generate output displaying the Euclidean distance between two time series — cnc_sp_ms_anom_la","title":"Multi-Site Anomaly Longitudinal Function to generate output displaying the Euclidean distance between two time series — cnc_sp_ms_anom_la","text":"Multi-Site Anomaly Longitudinal Function generate output displaying Euclidean distance two time series","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Site Anomaly Longitudinal Function to generate output displaying the Euclidean distance between two time series — cnc_sp_ms_anom_la","text":"","code":"cnc_sp_ms_anom_la(   process_output,   grp_vars,   specialty_filter = NULL,   large_n = FALSE,   large_n_sites = NULL )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Site Anomaly Longitudinal Function to generate output displaying the Euclidean distance between two time series — cnc_sp_ms_anom_la","text":"process_output output cnc_sp_process contain columns specified grp_vars grp_vars vector variables used grouping identifying -site summary statistics specialty_filter string indicating SINGLE specialty intereset displayed one time large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_anom_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Site Anomaly Longitudinal Function to generate output displaying the Euclidean distance between two time series — cnc_sp_ms_anom_la","text":"three graphs: line graph shows smoothed proportion visits specialty across time computation Euclidean distance associated line line graph shows raw proportion visits specialty across time computation Euclidean distance associated line bar graph Euclidean distance value site, average proportion fill","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_cs.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Site, Exploratory, Cross-Sectional Function to produce output for clinical event concordance with specialty for multi site, exploratory, not over time — cnc_sp_ms_exp_cs","title":"Multi-Site, Exploratory, Cross-Sectional Function to produce output for clinical event concordance with specialty for multi site, exploratory, not over time — cnc_sp_ms_exp_cs","text":"Multi-Site, Exploratory, Cross-Sectional Function produce output clinical event concordance specialty multi site, exploratory, time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Site, Exploratory, Cross-Sectional Function to produce output for clinical event concordance with specialty for multi site, exploratory, not over time — cnc_sp_ms_exp_cs","text":"","code":"cnc_sp_ms_exp_cs(data_tbl, facet = NULL, large_n = FALSE, large_n_sites = NULL)"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Site, Exploratory, Cross-Sectional Function to produce output for clinical event concordance with specialty for multi site, exploratory, not over time — cnc_sp_ms_exp_cs","text":"data_tbl table data plot facet list one variables facet plot large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Site, Exploratory, Cross-Sectional Function to produce output for clinical event concordance with specialty for multi site, exploratory, not over time — cnc_sp_ms_exp_cs","text":"dot plot specialty proportion visits specialty site, dot color representing site","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_la.html","id":null,"dir":"Reference","previous_headings":"","what":" Multi-Site, Exploratory, Longitudinal* Function to produce output for clinical event concordance with specialty for multi site, exploratory, across time  — cnc_sp_ms_exp_la","title":" Multi-Site, Exploratory, Longitudinal* Function to produce output for clinical event concordance with specialty for multi site, exploratory, across time  — cnc_sp_ms_exp_la","text":"Multi-Site, Exploratory, Longitudinal* Function produce output clinical event concordance specialty multi site, exploratory, across time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Multi-Site, Exploratory, Longitudinal* Function to produce output for clinical event concordance with specialty for multi site, exploratory, across time  — cnc_sp_ms_exp_la","text":"","code":"cnc_sp_ms_exp_la(data_tbl, facet = NULL, large_n = FALSE, large_n_sites = NULL)"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Multi-Site, Exploratory, Longitudinal* Function to produce output for clinical event concordance with specialty for multi site, exploratory, across time  — cnc_sp_ms_exp_la","text":"data_tbl table must contain cols: time_start | codeset_name | specialty_name | site facet supplied, variable facet plot large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ms_exp_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Multi-Site, Exploratory, Longitudinal* Function to produce output for clinical event concordance with specialty for multi site, exploratory, across time  — cnc_sp_ms_exp_la","text":"line plot, time x axis, proportion y, line color determined site dotted line -site mean","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Events and Specialties – Output Generation — cnc_sp_output","title":"Clinical Events and Specialties – Output Generation — cnc_sp_output","text":"Using tabular outputs generated cnc_sp_process, function build graph visualize results. function configuration output bespoke ggplot. Theming can adjusted user graph output using + theme(). graphs can also made interactive using make_interactive_squba()","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Events and Specialties – Output Generation — cnc_sp_output","text":"","code":"cnc_sp_output(   cnc_sp_process_output,   cnc_sp_process_names,   facet_vars = NULL,   top_n = 15,   n_mad = 3L,   specialty_filter = NULL,   p_value = 0.9,   large_n = FALSE,   large_n_sites = NULL )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clinical Events and Specialties – Output Generation — cnc_sp_output","text":"cnc_sp_process_output tabular input || required tabular output (visit-based counts per specialty) produced cnc_sp_process cnc_sp_process_names tabular input || required tabular output (specialty names & specialty_name grouping categories) produced cnc_sp_process see example file look like, see ?clinicalevents.specialties::cnc_sp_specialty_names facet_vars string vector || defaults NULL string vector representing variables plot facet. Accepted values cluster /visit_type top_n integer || defaults 15 integer value indicating cutoff top N group display per check n_mad integer || defaults 3 integer indicating number MAD median considered threshold anomalous value specialty_filter string vector || defaults NULL optional parameter indicating specialty specialties limit analysis p_value numeric || defaults 0.9 p value used threshold Multi-Site, Anomaly Detection, Cross-Sectional analysis large_n boolean || defaults FALSE Multi-Site analyses, boolean indicating whether large N visualization, intended high volume sites, used. visualization produce high level summaries across sites, option add specific site comparators via large_n_sites parameter. large_n_sites vector || defaults NULL large_n = TRUE, vector site names can add site-level information plot comparison across high level summary information.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clinical Events and Specialties – Output Generation — cnc_sp_output","text":"function produce graph visualize results cnc_sp_process based parameters provided. default output typically static ggplot gt object, interactive elements can activated passing plot make_interactive_squba. detailed description output specific check type, see PEDSpace metadata repository","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_output.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clinical Events and Specialties – Output Generation — cnc_sp_output","text":"","code":"#' Source setup file source(system.file('setup.R', package = 'clinicalevents.specialties'))  #' Create in-memory RSQLite database using data in extdata directory conn <- mk_testdb_omop()  #' Establish connection to database and generate internal configurations initialize_dq_session(session_name = 'cnc_sp_process_test',                       working_directory = my_directory,                       db_conn = conn,                       is_json = FALSE,                       file_subdirectory = my_file_folder,                       cdm_schema = NA) #> Connected to: :memory:@NA #> To see environment settings, run `get_argos_default()`  ## Turn off SQL trace for this example config('db_trace', FALSE)  #' Build mock study cohort cohort <- cdm_tbl('person') %>% dplyr::distinct(person_id) %>%   dplyr::mutate(start_date = as.Date(-5000),                 #RSQLite does not store date objects,                 #hence the numerics                 end_date = as.Date(15000),                 site = ifelse(person_id %in% c(1:6), 'synth1', 'synth2'))  #' Prepare input tables cnc_sp_visit_tbl <- dplyr::tibble(visit_concept_id = c(9201,9202,9203),                                   visit_type = c('inpatient', 'outpatient', 'emergency'))  cnc_sp_concept_tbl <- dplyr::tibble(domain = 'Hypertension',                                     domain_tbl = 'condition_occurrence',                                     concept_field = 'condition_concept_id',                                     date_field = 'condition_start_date',                                     vocabulary_field = NA,                                     codeset_name = 'dx_hypertension')  #' Execute `cnc_sp_process` function #' This example will use the single site, exploratory, cross sectional #' configuration cnc_sp_process_example <- cnc_sp_process(cohort = cohort,                                          omop_or_pcornet = 'omop',                                          multi_or_single_site = 'single',                                          anomaly_or_exploratory = 'exploratory',                                          codeset_tbl = cnc_sp_concept_tbl,                                          visit_type_tbl = cnc_sp_visit_tbl,                                          time = FALSE) %>%   suppressMessages() #> ┌ Output Function Details ─────────────────────────────────────────┐ #> │ You can optionally use this dataframe in the accompanying        │ #> │ `cnc_sp_output` function. Here are the parameters you will need: │ #> │                                                                  │ #> │ Always Required: cnc_sp_process_output, cnc_sp_process_names     │ #> │ Required for Check: top_n                                        │ #> │ Optional: facet_vars, specialty_filter                           │ #> │                                                                  │ #> │ See ?cnc_sp_output for more details.                             │ #> └──────────────────────────────────────────────────────────────────┘  cnc_sp_process_example$cnc_sp_process_output #> # A tibble: 1 × 7 #>   specialty_concept_id cluster          visit_type codeset_name num_visits site  #>                  <dbl> <chr>            <chr>      <chr>             <int> <chr> #> 1             38004446 Essential hyper… outpatient dx_hyperten…          5 comb… #> # ℹ 1 more variable: output_function <chr> cnc_sp_process_example$cnc_sp_process_names #> # A tibble: 1 × 2 #>   specialty_concept_id specialty_concept_name    #>                  <dbl> <chr>                     #> 1             38004446 No vocabulary table input  #' Execute `cnc_sp_output` function cnc_sp_output_example <-   cnc_sp_output(cnc_sp_process_output =                   cnc_sp_process_example$cnc_sp_process_output,                 cnc_sp_process_names =                   cnc_sp_process_example$cnc_sp_process_names %>%                     dplyr::mutate(specialty_name = 'General Pediatrics'),                 facet_vars = c('visit_type')) %>%   suppressMessages()  cnc_sp_output_example   #' Easily convert the graph into an interactive ggiraph or plotly object with #' `make_interactive_squba()`  make_interactive_squba(cnc_sp_output_example)  {\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":1,\"base\":0.55000000000000004,\"x\":[0.5],\"y\":[0.89999999999999991],\"text\":\"Specialty:  General Pediatrics <br />Number of Visits:  5 <br />Proportion:  1\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,77,111,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"General Pediatrics\",\"legendgroup\":\"General Pediatrics\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":52.529680365296812,\"r\":7.3059360730593621,\"b\":37.260273972602747,\"l\":130.77625570776257},\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Proportion of Visits with each of the top 15 Specialties\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.050000000000000003,1.05],\"tickmode\":\"array\",\"ticktext\":[\"0.00\",\"0.25\",\"0.50\",\"0.75\",\"1.00\"],\"tickvals\":[0,0.25,0.5,0.75,1],\"categoryorder\":\"array\",\"categoryarray\":[\"0.00\",\"0.25\",\"0.50\",\"0.75\",\"1.00\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"annotations\":[{\"text\":\"Proportion\",\"x\":0.5,\"y\":0,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"top\",\"annotationType\":\"axis\",\"yshift\":-21.917808219178088},{\"text\":\"Specialty\",\"x\":0,\"y\":0.5,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-90,\"xanchor\":\"right\",\"yanchor\":\"center\",\"annotationType\":\"axis\",\"xshift\":-115.43378995433793},{\"text\":\"outpatient\",\"x\":0.5,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":11.68949771689498},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,1.6000000000000001],\"tickmode\":\"array\",\"ticktext\":[\"General Pediatrics\"],\"tickvals\":[1],\"categoryorder\":\"array\",\"categoryarray\":[\"General Pediatrics\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":23.37899543378996,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"showlegend\":true,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"19546df54259\":{\"x\":{},\"y\":{},\"fill\":{},\"text\":{},\"type\":\"bar\"}},\"cur_data\":\"19546df54259\",\"visdat\":{\"19546df54259\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Events and Specialties — cnc_sp_process","title":"Clinical Events and Specialties — cnc_sp_process","text":"concordance module assess types specialty care received quality specialty data found study sample. user provide clinical codeset interest (codeset_tbl) associated domain able stratify results : visit type (user-provided groupings visit_type_tbl), cluster (additional column added codeset_tbl subgroupings), time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Events and Specialties — cnc_sp_process","text":"","code":"cnc_sp_process(   cohort,   multi_or_single_site = \"single\",   anomaly_or_exploratory = \"exploratory\",   omop_or_pcornet,   age_groups = NULL,   codeset_tbl,   care_site = FALSE,   provider = TRUE,   visit_detail = FALSE,   visit_type_tbl = NULL,   time = FALSE,   time_span = c(\"2012-01-01\", \"2020-01-01\"),   time_period = \"year\",   vocab_tbl = NULL )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clinical Events and Specialties — cnc_sp_process","text":"cohort tabular input || required cohort used data quality testing. table contain, minimum: site | character | name(s) institutions included cohort person_id / patid | integer / character | patient identifier start_date | date | start cohort period end_date | date | end cohort period Note start end dates included table used limit search window analyses module. multi_or_single_site string || defaults single string, either single multi, indicating whether single-site multi-site analysis executed anomaly_or_exploratory string || defaults exploratory string, either anomaly exploratory, indicating type results produced. Exploratory analyses give high level summary data examine fact representation within cohort. Anomaly detection analyses specialized identify outliers within cohort. omop_or_pcornet string || required string, either omop pcornet, indicating CDM format data omop: run cnc_sp_process_omop() function OMOP CDM instance pcornet: run cnc_sp_process_pcornet() function PCORnet CDM instance age_groups tabular input || defaults NULL like stratify results age group, create table CSV file following columns use input parameter: min_age | integer | minimum age group (.e. 10) max_age | integer | maximum age group (.e. 20) group | character | string label group (.e. 10-20, Young Adult, etc.) like stratify age group, leave NULL codeset_tbl tabular input || required table defining clinical event interest, containing following: domain | character | string label domain event defined domain_tbl | character | name CDM table event defined concept_field | character | string name field domain table concepts located date_field | character | name field domain table date used temporal filtering codeset_name | character | name codeset concepts defining clinical event codeset file identified table can optionally contain cluster column specifying subgroups codeset, , results stratified cluster see example structure file, see ?clinicalevents.specialties::cnc_sp_codeset_file care_site boolean || defaults FALSE boolean indicating whether care site/facility specialty values included analysis. provider care_site TRUE, provider specialty prioritized. provider boolean | defaults TRUE boolean indicating whether care provider specialty values included analysis. provider care_site TRUE, provider specialty prioritized. visit_detail boolean || defaults FALSE OMOP analyses – boolean indicating whether visit_detail table used primary visit table identify specialty visits. left FALSE, visit_occurrence used. visit_type_tbl tabular input || defaults NULL table defining available visit types used optional stratification. table contain following field: visit_concept_id / visit_detail_concept_id enc_type | integer / character | visit type identifier represents visit type interest (ex: 9201 IP) visit_type | character | string description visit type see example structure file, see ?clinicalevents.specialties::cnc_sp_visit_file_omop ?clinicalevents.specialties::cnc_sp_visit_file_pcornet time boolean || defaults FALSE boolean indicate whether execute longitudinal analysis time_span vector - length 2 || defaults c('2012-01-01', '2020-01-01') vector indicating lower upper bounds time series longitudinal analyses time_period string || defaults year string indicating distance dates within specified time_span. Defaults year, time periods month week also acceptable vocab_tbl tabular input || defaults NULL vocabulary table containing concept names used retrieve labels specialty concepts (ex: OMOP concept table)","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clinical Events and Specialties — cnc_sp_process","text":"function return two dataframes: table containing specialties associated clinical event, can grouped user feeding cnc_sp_output function table containing counts visits, optionally stratified visit, cluster, /time period, specialty visits meeting criteria (.e. clinical fact provided) detailed description output specific check type, see PEDSpace metadata repository","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clinical Events and Specialties — cnc_sp_process","text":"","code":"#' Source setup file source(system.file('setup.R', package = 'clinicalevents.specialties'))  #' Create in-memory RSQLite database using data in extdata directory conn <- mk_testdb_omop()  #' Establish connection to database and generate internal configurations initialize_dq_session(session_name = 'cnc_sp_process_test',                       working_directory = my_directory,                       db_conn = conn,                       is_json = FALSE,                       file_subdirectory = my_file_folder,                       cdm_schema = NA) #> Connected to: :memory:@NA #> To see environment settings, run `get_argos_default()`  ## Turn off SQL trace for this example config('db_trace', FALSE)  #' Build mock study cohort cohort <- cdm_tbl('person') %>% dplyr::distinct(person_id) %>%   dplyr::mutate(start_date = as.Date(-5000),                 #RSQLite does not store date objects,                 #hence the numerics                 end_date = as.Date(15000),                 site = ifelse(person_id %in% c(1:6), 'synth1', 'synth2'))  #' Prepare input tables cnc_sp_visit_tbl <- dplyr::tibble(visit_concept_id = c(9201,9202,9203),                                   visit_type = c('inpatient', 'outpatient', 'emergency'))  cnc_sp_concept_tbl <- dplyr::tibble(domain = 'Hypertension',                                     domain_tbl = 'condition_occurrence',                                     concept_field = 'condition_concept_id',                                     date_field = 'condition_start_date',                                     vocabulary_field = NA,                                     codeset_name = 'dx_hypertension')  #' Execute `cnc_sp_process` function #' This example will use the single site, exploratory, cross sectional #' configuration cnc_sp_process_example <- cnc_sp_process(cohort = cohort,                                          omop_or_pcornet = 'omop',                                          multi_or_single_site = 'single',                                          anomaly_or_exploratory = 'exploratory',                                          codeset_tbl = cnc_sp_concept_tbl,                                          visit_type_tbl = cnc_sp_visit_tbl,                                          time = FALSE) %>%   suppressMessages() #> ┌ Output Function Details ─────────────────────────────────────────┐ #> │ You can optionally use this dataframe in the accompanying        │ #> │ `cnc_sp_output` function. Here are the parameters you will need: │ #> │                                                                  │ #> │ Always Required: cnc_sp_process_output, cnc_sp_process_names     │ #> │ Required for Check: top_n                                        │ #> │ Optional: facet_vars, specialty_filter                           │ #> │                                                                  │ #> │ See ?cnc_sp_output for more details.                             │ #> └──────────────────────────────────────────────────────────────────┘  cnc_sp_process_example$cnc_sp_process_output #> # A tibble: 1 × 7 #>   specialty_concept_id cluster          visit_type codeset_name num_visits site  #>                  <dbl> <chr>            <chr>      <chr>             <int> <chr> #> 1             38004446 Essential hyper… outpatient dx_hyperten…          5 comb… #> # ℹ 1 more variable: output_function <chr> cnc_sp_process_example$cnc_sp_process_names #> # A tibble: 1 × 2 #>   specialty_concept_id specialty_concept_name    #>                  <dbl> <chr>                     #> 1             38004446 No vocabulary table input  #' Execute `cnc_sp_output` function cnc_sp_output_example <-   cnc_sp_output(cnc_sp_process_output =                   cnc_sp_process_example$cnc_sp_process_output,                 cnc_sp_process_names =                   cnc_sp_process_example$cnc_sp_process_names %>%                     dplyr::mutate(specialty_name = 'General Pediatrics'),                 facet_vars = c('visit_type')) %>%   suppressMessages()  cnc_sp_output_example   #' Easily convert the graph into an interactive ggiraph or plotly object with #' `make_interactive_squba()`  make_interactive_squba(cnc_sp_output_example)  {\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":1,\"base\":0.55000000000000004,\"x\":[0.5],\"y\":[0.89999999999999991],\"text\":\"Specialty:  General Pediatrics <br />Number of Visits:  5 <br />Proportion:  1\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,77,111,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"General Pediatrics\",\"legendgroup\":\"General Pediatrics\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":52.529680365296812,\"r\":7.3059360730593621,\"b\":37.260273972602747,\"l\":130.77625570776257},\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Proportion of Visits with each of the top 15 Specialties\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.050000000000000003,1.05],\"tickmode\":\"array\",\"ticktext\":[\"0.00\",\"0.25\",\"0.50\",\"0.75\",\"1.00\"],\"tickvals\":[0,0.25,0.5,0.75,1],\"categoryorder\":\"array\",\"categoryarray\":[\"0.00\",\"0.25\",\"0.50\",\"0.75\",\"1.00\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"annotations\":[{\"text\":\"Proportion\",\"x\":0.5,\"y\":0,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"top\",\"annotationType\":\"axis\",\"yshift\":-21.917808219178088},{\"text\":\"Specialty\",\"x\":0,\"y\":0.5,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-90,\"xanchor\":\"right\",\"yanchor\":\"center\",\"annotationType\":\"axis\",\"xshift\":-115.43378995433793},{\"text\":\"outpatient\",\"x\":0.5,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":11.68949771689498},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,1.6000000000000001],\"tickmode\":\"array\",\"ticktext\":[\"General Pediatrics\"],\"tickvals\":[1],\"categoryorder\":\"array\",\"categoryarray\":[\"General Pediatrics\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":23.37899543378996,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"showlegend\":true,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"19546852dadd\":{\"x\":{},\"y\":{},\"fill\":{},\"text\":{},\"type\":\"bar\"}},\"cur_data\":\"19546852dadd\",\"visdat\":{\"19546852dadd\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Concordance: Clinical Events and Specialties – OMOP — cnc_sp_process_omop","title":"Concordance: Clinical Events and Specialties – OMOP — cnc_sp_process_omop","text":"check assess quality specialty data study sample user provide clinical codeset interest associated domain able stratify results : visit type (user provide groupings) time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concordance: Clinical Events and Specialties – OMOP — cnc_sp_process_omop","text":"","code":"cnc_sp_process_omop(   cohort,   multi_or_single_site = \"multi\",   age_groups = NULL,   codeset_tbl = NULL,   care_site,   provider,   visit_detail,   visit_type_tbl = NULL,   time = FALSE,   time_span = c(\"2012-01-01\", \"2020-01-01\"),   time_period = \"year\",   vocab_tbl = NULL )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_omop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concordance: Clinical Events and Specialties – OMOP — cnc_sp_process_omop","text":"cohort dataframe cohort patients study. include columns: site | person_id | start_date | end_date multi_or_single_site Option run function single vs multiple sites - 'single': run single site, treat sites one - 'multi': run group sites, treating site separately age_groups like stratify results age group,  create table CSV file following columns include age_groups function parameter: min_age: minimum age group (.e. 10) max_age: maximum age group (.e. 20) group: string label group (.e. 10-20, Young Adult, etc.) like stratify age group, leave argument NULL codeset_tbl table specs directory columns: domain: name domain domain_tbl: name cdm_tbl concept_field: column name domain_tbl search codeset concept_ids date_field: column name domain_tbl used time-based filtering codeset_name: name codeset exists csv file specs directory. codeset can optionally contain cluster column specifying subgroups codeset, , results stratified cluster care_site TRUE want look care_site specialty FALSE want look care_site specialty provider TRUE want look provider specialty FALSE want look provider specialty provider care_site TRUE, provider specialty prioritized provider care_site discordant visit visit_detail TRUE want use visit_detail table identify specialty visits FALSE want use visit_occurrence table (default) visit_type_tbl csv file defines available visit types called visit_types. defaults provided conc_visit_types.csv file, contains following fields: - visit_concept_id: visit_concept_id represents visit type interest (.e. 9201) - visit_type: string label describe visit type; label can used multiple times within file multiple visit_concept_ids represent visit type   time TRUE results time. Defaults FALSE time_span time=TRUE, vector containing minimum maximum dates measure time_period time=TRUE, indicates time period (e.g. 'year', 'month') measure vocab_tbl location vocabulary table containing concept_id concept_name mapping. vocabulary table available, default NULL","code":"This CSV can be altered to fit the users needs, or another csv with the same columns and formatting can be supplied."},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_omop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Concordance: Clinical Events and Specialties – OMOP — cnc_sp_process_omop","text":"2 tables: 1 table stored csv file results directory containing specialties results DQ check, columns: - specialty_concept_id: identifier specialty based data model - specialty_concept_name: vocab_tbl provided, name specialty corresponds specialty_concept_id. vocab_tbl provided, defaults 'vocabulary table input' 1 table containing counts visits, optionally stratified visit /time period, specialty visits meeting criteria (.e. clinical fact provided)","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_pcornet.html","id":null,"dir":"Reference","previous_headings":"","what":"Concordance: Clinical Events and Specialties – PCORnet — cnc_sp_process_pcornet","title":"Concordance: Clinical Events and Specialties – PCORnet — cnc_sp_process_pcornet","text":"check assess quality specialty data study sample user provide clinical codeset interest associated domain able stratify results : visit type (user provide groupings) time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_pcornet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concordance: Clinical Events and Specialties – PCORnet — cnc_sp_process_pcornet","text":"","code":"cnc_sp_process_pcornet(   cohort,   multi_or_single_site = \"multi\",   age_groups = NULL,   codeset_tbl = NULL,   care_site,   provider,   visit_type_tbl = NULL,   time = FALSE,   time_span = c(\"2012-01-01\", \"2020-01-01\"),   time_period = \"year\",   vocab_tbl = NULL )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_pcornet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concordance: Clinical Events and Specialties – PCORnet — cnc_sp_process_pcornet","text":"cohort dataframe cohort patients study. include columns: site | person_id | start_date | end_date multi_or_single_site Option run function single vs multiple sites - 'single': run single site, treat sites one - 'multi': run group sites, treating site separately age_groups like stratify results age group,  create table CSV file following columns include age_groups function parameter: min_age: minimum age group (.e. 10) max_age: maximum age group (.e. 20) group: string label group (.e. 10-20, Young Adult, etc.) like stratify age group, leave argument NULL codeset_tbl table specs directory columns: domain: name domain domain_tbl: name cdm_tbl concept_field: column name domain_tbl search codeset concept_ids date_field: column name domain_tbl used time-based filtering codeset_name: name codeset exists csv file specs directory. codeset can optionally contain cluster column specifying subgroups codeset, , results stratified cluster care_site TRUE want look care_site specialty FALSE want look care_site specialty provider TRUE want look provider specialty FALSE want look provider specialty provider care_site TRUE, provider specialty prioritized provider care_site discordant visit visit_type_tbl csv file defines available visit types called visit_types. defaults provided conc_visit_types.csv file, contains following fields: - visit_concept_id: visit_concept_id represents visit type interest (.e. 9201) - visit_type: string label describe visit type; label can used multiple times within file multiple visit_concept_ids represent visit type   time TRUE results time. Defaults FALSE time_span time=TRUE, vector containing minimum maximum dates measure time_period time=TRUE, indicates time period (e.g. 'year', 'month') measure vocab_tbl location vocabulary table containing concept_id concept_name mapping. vocabulary table available, default NULL","code":"This CSV can be altered to fit the users needs, or another csv with the same columns and formatting can be supplied."},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_process_pcornet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Concordance: Clinical Events and Specialties – PCORnet — cnc_sp_process_pcornet","text":"2 tables: 1 table stored csv file results directory containing specialties results DQ check, columns: - specialty_concept_id: identifier specialty based data model - specialty_concept_name: vocab_tbl provided, name specialty corresponds specialty_concept_id. vocab_tbl provided, defaults 'vocabulary table input' 1 table containing counts visits, optionally stratified visit /time period, specialty visits meeting criteria (.e. clinical fact provided)","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_specialty_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Events & Specialties - Specialty Naming Sample — cnc_sp_specialty_names","title":"Clinical Events & Specialties - Specialty Naming Sample — cnc_sp_specialty_names","text":"sample version list specialties output cnc_sp_process labelled use cnc_sp_output function.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_specialty_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Events & Specialties - Specialty Naming Sample — cnc_sp_specialty_names","text":"","code":"cnc_sp_specialty_names"},{"path":[]},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_specialty_names.html","id":"cnc-sp-specialty-names","dir":"Reference","previous_headings":"","what":"cnc_sp_specialty_names","title":"Clinical Events & Specialties - Specialty Naming Sample — cnc_sp_specialty_names","text":"data frame 3 columns specialty_concept_id specialty_concept_id identified cnc_sp_process specialty_concept_name vocab_tbl provided, concept_name associated specialty_concept_id; otherwise default \"vocabulary table input\" specialty_name user-provided identifier specialty; can repeated across rows group specialties together","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_cs.html","id":null,"dir":"Reference","previous_headings":"","what":"Single Site, Anomaly, Cross-Sectional — cnc_sp_ss_anom_cs","title":"Single Site, Anomaly, Cross-Sectional — cnc_sp_ss_anom_cs","text":"Function produce output clinical event concordance specialty single site, anomaly, time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Single Site, Anomaly, Cross-Sectional — cnc_sp_ss_anom_cs","text":"","code":"cnc_sp_ss_anom_cs(data_tbl, facet = NULL)"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Single Site, Anomaly, Cross-Sectional — cnc_sp_ss_anom_cs","text":"data_tbl table must contain cols: specialty_name | prop | median | n_mad facet vector variable names used facet graph","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Single Site, Anomaly, Cross-Sectional — cnc_sp_ss_anom_cs","text":"dot plot shape dot represents whether point anomalous, color dot represents proportion visits given cluster, size dot represents mean proportion across specialties","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_la.html","id":null,"dir":"Reference","previous_headings":"","what":"Single Site, Anomaly, Longitudinal — cnc_sp_ss_anom_la","title":"Single Site, Anomaly, Longitudinal — cnc_sp_ss_anom_la","text":"Control chart looking proportion visits specialty time reference table","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Single Site, Anomaly, Longitudinal — cnc_sp_ss_anom_la","text":"","code":"cnc_sp_ss_anom_la(   process_output,   filt_list = NULL,   ct_col,   denom_col,   id_col,   name_col,   facet = NULL,   plot_title_text )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Single Site, Anomaly, Longitudinal — cnc_sp_ss_anom_la","text":"process_output dataframe output corresponding squba check filt_list named list names equal column name/s must exist process_output values equal values filter e.g. filt_list=list(concepts=c(first_concept, second_concept), another_column_name=c('some_value_found_in_another_column_name')) ct_col numeric column counts associated variable interest denom_col numeric column counts summed across time provide overall summary count id_col primary identifier variables table (.e. specialty_name) name_col column descriptive names id_col facet variables like facet graph; defaults NULL plot_title_text text display plot title. tacked text 'Control Chart: '","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_anom_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Single Site, Anomaly, Longitudinal — cnc_sp_ss_anom_la","text":"time_increment year, outputs list : first element P prime control chart highlights points time anomalous second element gt table total counts based specified stratification otherwise, outputs list plot_anomalies & plot_anomalies_decomp graph timetk package","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_cs.html","id":null,"dir":"Reference","previous_headings":"","what":" Single Site, Exploratory, Cross-Sectional* Function to produce output for clinical event concordance with specialty for single site, exploratory, not over time  — cnc_sp_ss_exp_cs","title":" Single Site, Exploratory, Cross-Sectional* Function to produce output for clinical event concordance with specialty for single site, exploratory, not over time  — cnc_sp_ss_exp_cs","text":"Single Site, Exploratory, Cross-Sectional* Function produce output clinical event concordance specialty single site, exploratory, time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":" Single Site, Exploratory, Cross-Sectional* Function to produce output for clinical event concordance with specialty for single site, exploratory, not over time  — cnc_sp_ss_exp_cs","text":"","code":"cnc_sp_ss_exp_cs(data_tbl, facet, x_var, y_var, fill_var, top_n)"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":" Single Site, Exploratory, Cross-Sectional* Function to produce output for clinical event concordance with specialty for single site, exploratory, not over time  — cnc_sp_ss_exp_cs","text":"data_tbl table data plot facet list one variables facet plot x_var variable plot x axis y_var variable plot y axis fill_var variable fill bars top_n integer indicating top N number specialties display graph","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":" Single Site, Exploratory, Cross-Sectional* Function to produce output for clinical event concordance with specialty for single site, exploratory, not over time  — cnc_sp_ss_exp_cs","text":"bar plot based values x_var, y_var, fill_var, facet","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_la.html","id":null,"dir":"Reference","previous_headings":"","what":"Single Site, Exploratory, Longitudinal Function to produce output for clinical event concordance with specialty for single site, exploratory, across time — cnc_sp_ss_exp_la","title":"Single Site, Exploratory, Longitudinal Function to produce output for clinical event concordance with specialty for single site, exploratory, across time — cnc_sp_ss_exp_la","text":"Single Site, Exploratory, Longitudinal Function produce output clinical event concordance specialty single site, exploratory, across time","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Single Site, Exploratory, Longitudinal Function to produce output for clinical event concordance with specialty for single site, exploratory, across time — cnc_sp_ss_exp_la","text":"","code":"cnc_sp_ss_exp_la(data_tbl, facet = NULL)"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Single Site, Exploratory, Longitudinal Function to produce output for clinical event concordance with specialty for single site, exploratory, across time — cnc_sp_ss_exp_la","text":"data_tbl table data plot facet list one variables facet plot ","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_ss_exp_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Single Site, Exploratory, Longitudinal Function to produce output for clinical event concordance with specialty for single site, exploratory, across time — cnc_sp_ss_exp_la","text":"plotly line plot proportion visits specialty time, line color representing specialty","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_visit_file_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Events & Specialties Visit File Sample – OMOP version — cnc_sp_visit_file_omop","title":"Clinical Events & Specialties Visit File Sample – OMOP version — cnc_sp_visit_file_omop","text":"sample version file structure expected visit_type_tbl parameter cnc_sp_process function. user recreate file include domain definitions.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_visit_file_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Events & Specialties Visit File Sample – OMOP version — cnc_sp_visit_file_omop","text":"","code":"cnc_sp_visit_file_omop"},{"path":[]},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_visit_file_omop.html","id":"cnc-sp-visit-file-omop","dir":"Reference","previous_headings":"","what":"cnc_sp_visit_file_omop","title":"Clinical Events & Specialties Visit File Sample – OMOP version — cnc_sp_visit_file_omop","text":"data frame 2 columns visit_(detail)_concept_id visit_concept_id visit_detail_concept_id appears visit_occurrence visit_detail table visit_type string label visit type visit_concept_id","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_visit_file_pcornet.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Events & Specialties Visit File Sample – PCORnet version — cnc_sp_visit_file_pcornet","title":"Clinical Events & Specialties Visit File Sample – PCORnet version — cnc_sp_visit_file_pcornet","text":"sample version file structure expected visit_type_tbl parameter cnc_sp_process function. user recreate file include domain definitions.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_visit_file_pcornet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Events & Specialties Visit File Sample – PCORnet version — cnc_sp_visit_file_pcornet","text":"","code":"cnc_sp_visit_file_pcornet"},{"path":[]},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/cnc_sp_visit_file_pcornet.html","id":"cnc-sp-visit-file-pcornet","dir":"Reference","previous_headings":"","what":"cnc_sp_visit_file_pcornet","title":"Clinical Events & Specialties Visit File Sample – PCORnet version — cnc_sp_visit_file_pcornet","text":"data frame 2 columns enc_type enc_type appears encounter table visit_type string label visit type enc_type","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to compute fact + visit specialty concordance — compute_conc_omop","title":"Function to compute fact + visit specialty concordance — compute_conc_omop","text":"Function compute fact + visit specialty concordance","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to compute fact + visit specialty concordance — compute_conc_omop","text":"","code":"compute_conc_omop(   cohort,   grouped_list = c(\"site\"),   codeset_tbl = read_codeset(\"conc_codesets\", col_types = \"cccc\"),   care_site,   provider,   visit_detail = FALSE,   visit_type_tbl = NULL,   age_gp_tbl = NULL,   time = FALSE )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_omop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to compute fact + visit specialty concordance — compute_conc_omop","text":"cohort cohort look events grouped_list vector group input . Defaults site. year grouped_list, results returned year visit_start_date codeset_tbl table file_subdirectory columns: domain: name domain domain_tbl: name cdm_tbl concept_field: column name domain_tbl search codeset concept_ids date_field: column name domain_tbl use date filtering codeset_name: name codeset specs directory care_site boolean indicating whether search care_site (visit level) specialty provider boolean indicating whether search provider (visit level) specialty visit_detail TRUE want use visit_detail table identify specialty visits FALSE want use visit_occurrence table (default) visit_type_tbl provided, map visit_concept_id visit_type classification. required, NULL age_gp_tbl provided, table columns: min_age: minimum age, years, given categorization max_age: maximum age, years, given categorization group: label used categorization time boolean indicating whether compute time ","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_omop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to compute fact + visit specialty concordance — compute_conc_omop","text":"table cols: codeset_name: name codeset specs directory event facts specialty_concept_id: concept_id specialty either care_site provider num_visits: number visits specialty+fact ... columns grouped_list","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_pcnt.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to compute fact + visit specialty concordance — compute_conc_pcnt","title":"Function to compute fact + visit specialty concordance — compute_conc_pcnt","text":"Function compute fact + visit specialty concordance","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_pcnt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to compute fact + visit specialty concordance — compute_conc_pcnt","text":"","code":"compute_conc_pcnt(   cohort,   grouped_list = c(\"site\"),   codeset_tbl = read_codeset(\"conc_codesets\", col_types = \"cccc\"),   care_site,   provider,   visit_type_tbl = NULL,   age_gp_tbl = NULL,   time = FALSE )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_pcnt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to compute fact + visit specialty concordance — compute_conc_pcnt","text":"cohort cohort look events grouped_list vector group input . Defaults site. year grouped_list, results returned year admit_date codeset_tbl table file_subdirectory columns: domain: name domain domain_tbl: name cdm_tbl concept_field: column name domain_tbl search codeset concept_ids date_field: column name domain_tbl use date filtering codeset_name: name codeset specs directory care_site boolean indicating whether search care_site (visit level) specialty provider boolean indicating whether search provider (visit level) specialty visit_type_tbl provided, map visit_concept_id visit_type classification. required, NULL age_gp_tbl provided, table columns: min_age: minimum age, years, given categorization max_age: maximum age, years, given categorization group: label used categorization time boolean indicating whether compute time ","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/compute_conc_pcnt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to compute fact + visit specialty concordance — compute_conc_pcnt","text":"table cols: codeset_name: name codeset specs directory event facts specialty_concept_id: concept_id specialty either care_site provider num_visits: number visits specialty+fact ... columns grouped_list","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_distinct_concepts.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to generate a table of concept_id + concept_name for a set of concepts — find_distinct_concepts","title":"Function to generate a table of concept_id + concept_name for a set of concepts — find_distinct_concepts","text":"Function generate table concept_id + concept_name set concepts","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_distinct_concepts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to generate a table of concept_id + concept_name for a set of concepts — find_distinct_concepts","text":"","code":"find_distinct_concepts(   tbl,   concept_col = \"concept_id\",   vocab = vocabulary_tbl(\"concept\") )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_distinct_concepts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to generate a table of concept_id + concept_name for a set of concepts — find_distinct_concepts","text":"tbl table specialty_concept_id column concept_col column vocabulary table used join input tbl vocab table concept_id concept_name column, defaulting vocabulary_tbl concept","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_distinct_concepts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to generate a table of concept_id + concept_name for a set of concepts — find_distinct_concepts","text":"table distinct specialty_concept_id | concept_name","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_omop","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_omop","text":"Function find visit_occurrences patient dx interest + specialty interest","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_omop","text":"","code":"find_fact_spec_conc_omop(   cohort,   visit_id,   fact_codes,   fact_tbl,   care_site,   provider,   time = FALSE )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_omop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_omop","text":"cohort table least person_id visit_id ID column associated visit table interest (either visit_occurrence_id visit_detail_id) fact_codes codeset _concept_id dx/px/etc interest fact_tbl cdm_tbl search fact_codes care_site boolean indicating whether search care_site (visit level) specialty provider boolean indicating whether search provider (visit level) specialty time boolean indicating whether analysis conducted longitudinally","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_omop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_omop","text":"table occurrences fact_codes cohort, visit info visit specialty codeset","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_pcnt.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_pcnt","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_pcnt","text":"Function find visit_occurrences patient dx interest + specialty interest","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_pcnt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_pcnt","text":"","code":"find_fact_spec_conc_pcnt(   cohort,   fact_codes,   fact_tbl,   care_site,   provider,   vocabulary_field,   time = FALSE )"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_pcnt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_pcnt","text":"cohort table least person_id fact_codes codeset _concept_id dx/px/etc interest fact_tbl cdm_tbl search fact_codes care_site boolean indicating whether search care_site (visit level) specialty provider boolean indicating whether search provider (visit level) specialty vocabulary_field name field fact_tbl indicates vocabulary type codes time boolean indicating whether analysis conducted longitudinally","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/find_fact_spec_conc_pcnt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to find the visit_occurrences during which patient had a dx of interest + specialty of interest — find_fact_spec_conc_pcnt","text":"table occurrences fact_codes cohort, visit info visit specialty codeset","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/insert_top_n_indicator.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to insert a column into a table indicating whether the record is in the top n for the given group — insert_top_n_indicator","title":"Function to insert a column into a table indicating whether the record is in the top n for the given group — insert_top_n_indicator","text":"Function insert column table indicating whether record top n given group","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/insert_top_n_indicator.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to insert a column into a table indicating whether the record is in the top n for the given group — insert_top_n_indicator","text":"","code":"insert_top_n_indicator(dat, gp_cols, val_col, n, sum_first = FALSE)"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/insert_top_n_indicator.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to insert a column into a table indicating whether the record is in the top n for the given group — insert_top_n_indicator","text":"dat table containing data gp_cols columns group top n taken group, total indicated \"top\" hits # groups * n val_col column order determining top n n number records indicate top within group sum_first boolean indicating whether value grouped summed prior identifying top N","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/insert_top_n_indicator.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to insert a column into a table indicating whether the record is in the top n for the given group — insert_top_n_indicator","text":"original dat table original columns, plus column top_n_indicator TRUE record top n FALSE ","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://ssdqa.github.io/clinicalevents.specialties/news/index.html","id":"clinicaleventsspecialties-development-version","dir":"Changelog","previous_headings":"","what":"clinicalevents.specialties (development version)","title":"clinicalevents.specialties (development version)","text":"Initial CRAN submission.","code":""}]
